var txtCIFLongINC="";var txtCIFFormINC="";var txtCIF_INC="";var txtCampoObligatorio="";var txtIncompleto="";var txtMalCCC="";var txtMailIncorrecto="";var txtModCCCNoVal="";var txtNoNifCaixa="";var txtDataIncorrecta="";var txtDataAnterior="";var txtIntIncorrecto="";var txtIntAnterior="";var txtDataNoFuture="";var txtDataFuture="";var txtCuentaINC="";var pruebas=true;function buildMessage(str,arg0,arg1,arg2,arg3,arg4,arg5,arg6,arg7,arg8,arg9){for(var i=0;i<10;i++){eval("if (arg"+i+"==null) arg"+i+"='';");eval("arg"+i+"= ''+arg"+i+";");eval("arg"+i+"=arg"+i+".replace(/:/,'');");eval("arg"+i+"=trim(arg"+i+");");str=eval("str.replace(/<"+i+">/,arg"+i+");");}return str;}function isSpaceChar(crt){return(crt=="\t"||crt=="\n"||crt=="\f"||crt=="\r"||crt==" ");}function leftTrim(sString){while(isSpaceChar(sString.substring(0,1))){sString=sString.substring(1,sString.length);}return sString;}function rightTrim(sString){while(isSpaceChar(sString.substring(sString.length-1,sString.length))){sString=sString.substring(0,sString.length-1);}return sString;}function trim(sString){sString=leftTrim(sString);sString=rightTrim(sString);return sString;}function validarNif2(nif){var temp=nif.toUpperCase();var cadenadni="TRWAGMYFPDXBNJZSQVHLCKE";if(temp!==""){if((!/^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$/.test(temp)&&!/^[T]{1}[A-Z0-9]{8}$/.test(temp))&&!/^[0-9]{8}[A-Z]{1}$/.test(temp)){return false;}if(/^[0-9]{8}[A-Z]{1}$/.test(temp)){posicion=nif.substring(8,0)%23;letra=cadenadni.charAt(posicion);var letradni=temp.charAt(8);if(letra==letradni){return true;}else{return false;}}suma=parseInt(nif.charAt(2))+parseInt(nif.charAt(4))+parseInt(nif.charAt(6));for(i=1;i<8;i+=2){temp1=2*parseInt(nif.charAt(i));temp1+="";temp1=temp1.substring(0,1);temp2=2*parseInt(nif.charAt(i));temp2+="";temp2=temp2.substring(1,2);if(temp2==""){temp2="0";}suma+=(parseInt(temp1)+parseInt(temp2));}suma+="";n=10-parseInt(suma.substring(suma.length-1,suma.length));if(/^[KLM]{1}/.test(temp)){if(a[8]==String.fromCharCode(64+n)){return true;}else{return false;}}if(/^[ABCDEFGHJNPQRSUVW]{1}/.test(temp)){temp=n+"";if(nif.charAt(8)==String.fromCharCode(64+n)||nif.charAt(8)==parseInt(temp.substring(temp.length-1,temp.length))){return true;}else{return false;}}if(/^[T]{1}/.test(temp)){if(/[A-Z0-9]{8}$/.test(temp)){return true;}else{return false;}}if(/^[XYZ]{1}/.test(temp)){pos=str_replace(["X","Y","Z"],["0","1","2"],temp).substring(0,8)%23;if(nif.charAt(8)==cadenadni.substring(pos,pos+1)){return true;}else{return false;}}}return 0;}function str_replace(search,replace,subject){var f=search,r=replace,s=subject;var ra=r instanceof Array,sa=s instanceof Array,f=[].concat(f),r=[].concat(r),i=(s=[].concat(s)).length;while(j=0,i--){if(s[i]){while(s[i]=s[i].split(f[j]).join(ra?r[j]||"":r[0]),++j in f){}}}return sa?s:s[0];}function validarCIFCaixa(texto){var nif=trim(texto.toUpperCase());if(pruebas==false&&nif=="G58899998"){alert(txtNoNifCaixa);return(false);}return(validarCIF(nif));}function validarCIF(nif){var LetrasYnumeros="ABCDEFGJUVHNWPQRS0123456789TRWAGMYFPDXBNJZSQVHLCKE";var Letras10="ABCDEFGHIJ";var Pares=0;var Impares=0;nif=trim(nif);if(nif.substring(0,1)=="T"){return(true);}if(nif.length!=9){if(nif.length==10){if(nif.substring(0,1)=="X"&&nif.substring(1,2)=="0"){nif=nif.substring(0,1)+nif.substring(2,10);}else{alert(txtCIFLongINC);return(false);}}else{alert(txtCIFLongINC);return(false);}}if(isNaN(nif.substring(1,8))){alert(txtCIFFormINC);return(false);}Juridicas=false;Nacional=false;Extranjero=false;Estatal=false;Locales=false;Fantiguo=false;Fisicas=false;FisicasDni=false;FisicasSinDni=false;FisicasNoRes=false;FisicasExtran=false;if(LetrasYnumeros.substring(0,11).indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(17,27).indexOf(nif.substring(8,9))>=0){Nacional=true;Juridicas=true;}if(LetrasYnumeros.substring(0,13).indexOf(nif.substring(0,1))>=0&&Letras10.substring(0,10).indexOf(nif.substring(8,9))>=0){Extranjero=true;Juridicas=true;}if(LetrasYnumeros.substring(16,17).indexOf(nif.substring(0,1))>=0&&Letras10.substring(0,10).indexOf(nif.substring(8,9))>=0){Estatal=true;Juridicas=true;}if(LetrasYnumeros.substring(13,16).indexOf(nif.substring(0,1))>=0&&Letras10.substring(0,10).indexOf(nif.substring(8,9))>=0){Locales=true;Juridicas=true;}if(LetrasYnumeros.substring(17,27).indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(27,50).indexOf(nif.substring(8,9))>=0){FisicasDni=true;Fisicas=true;}if(LetrasYnumeros.substring(48,49).indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(27,50).indexOf(nif.substring(8,9))>=0){FisicasSinDni=true;Fisicas=true;}if(LetrasYnumeros.substring(46,47).indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(27,50).indexOf(nif.substring(8,9))>=0){FisicasNoRes=true;Fisicas=true;}if(LetrasYnumeros.substring(37,38).indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(27,50).indexOf(nif.substring(8,9))>=0){FisicasExtran=true;Fisicas=true;}if(LetrasYnumeros.substring(32,33).indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(27,50).indexOf(nif.substring(8,9))>=0){FisicasExtran=true;Fisicas=true;}if("YZ".indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(27,50).indexOf(nif.substring(8,9))>=0){if(nif.substring(0,1)=="Y"){if(nif.substring(1,5)=="2100"){nif="0"+nif.substring(1,nif.length);}else{nif="1"+nif.substring(1,nif.length);}}else{nif="2"+nif.substring(1,nif.length);}FisicasExtran=true;Fisicas=true;if(isNaN(trim(nif.substring(0,8)))){alert(txtCIF_INC);return(false);}var producto=parseInt(nif.substring(0,8),10)%23;var digito=producto+28;if(LetrasYnumeros.substring(digito-1,digito)==nif.substring(8,9)){return(true);}alert(txtCIF_INC);return(false);}if(Juridicas){for(var i=2;i<=8;i=i+2){Digito=parseInt(nif.substring(i-1,i),10);Digito=Digito*2;if(Digito>=10){Dig1=parseInt(Digito/10,10);Dig2=Digito%10;Digito=Dig1+Dig2;}Impares=Impares+Digito;}for(var i=3;i<=8;i=i+2){Digito=parseInt(nif.substring(i-1,i),10);Pares=Pares+Digito;}producto=Pares+Impares;Resto=producto%10;Digito=10-Resto;if(Nacional){if(Digito==10){Digito=0;}}else{if(Digito==0){Digito=10;}}if(Nacional){if(Digito==parseInt(trim(nif.substring(8,9)),10)){return(true);}else{alert(txtCIF_INC);return(false);}}if(Letras10.substring(Digito-1,Digito)==nif.substring(8,9)){return(true);}alert(txtCIF_INC);return(false);}if(Fisicas){if(FisicasDni){if(isNaN(trim(nif.substring(0,8)))){alert(txtCIF_INC);return(false);}producto=parseInt(trim(nif.substring(0,8)),10)%23;}else{if(isNaN(trim(nif.substring(1,8)))){alert(txtCIF_INC);return(false);}producto=parseInt(trim(nif.substring(1,8)),10)%23;}Digito=producto+28;if(LetrasYnumeros.substring(Digito-1,Digito)==nif.substring(8,9)){return(true);}alert(txtCIF_INC);return(false);}alert(txtCIF_INC);return(false);}function validaTextObligatorios(listaIds){for(var i=0;i<listaIds.length;i++){var input=document.getElementById(listaIds[i]);if(null!=input){if(trim(input.value)==""){input.className="error";var span=document.getElementById("SPAN_"+listaIds[i]);var nombreCampo="";if(null!=span){nombreCampo='"'+span.innerHTML+'"';}var msg=buildMessage(txtCampoObligatorio,nombreCampo);alert(msg);input.focus();return false;}else{input.className="text";}}}return true;}function validaTextFull(INPUT_TEXT){if(INPUT_TEXT.value.length!=INPUT_TEXT.maxLength){alert(buildMessage(txtIncompleto,INPUT_TEXT.maxLength));INPUT_TEXT.focus();INPUT_TEXT.select();return false;}return true;}function validaCCC(num,prefix){for(var i=0;i<num;i++){var E2_ENTID=document.getElementById(prefix+"_ENTID_"+i);var E2_OFICI=document.getElementById(prefix+"_OFICI_"+i);var E2_DC=document.getElementById(prefix+"_DC_"+i);var E2_CUENT=document.getElementById(prefix+"_CUENT_"+i);var correcta=compruebaCuenta(E2_ENTID.value,E2_OFICI.value,E2_DC.value,E2_CUENT.value);if(!correcta){alert(txtMalCCC);E2_DC.className="error";E2_DC.focus();E2_DC.select();return false;}else{if(E2_CUENT.value.substring(0,2)=="65"){alert(txtModCCCNoVal);E2_CUENT.className="error";E2_CUENT.focus();E2_CUENT.select();return false;}else{E2_DC.className="text";E2_CUENT.className="text";}}}return true;}function compruebaCuenta(entidad,oficina,dg,cuenta){var correcto=entidad.length==4&&oficina.length==4&&dg.length==2&&cuenta.length==10;correcto=correcto&&!isNaN(entidad)&&!isNaN(oficina)&&!isNaN(dg)&&!isNaN(cuenta);correcto=correcto&&check_oficina_ccc(entidad,oficina,dg);correcto=correcto&&check_cuenta_ccc(cuenta,dg);if(entidad=="2100"){if(cuenta.substring(0,2)!=62){correcto=correcto&&check_cuenta_entidad(oficina,cuenta);}}return(correcto);}function check_oficina_ccc(entidad,oficina,dg){var lv_total;var lv_peso;var ii;var lv_digit;var Pesos;var Numero;Pesos="6379058421";if(entidad.length==0||oficina.length==0){return(false);}else{Numero=repiteCaracter("0",4-entidad.length)+entidad+repiteCaracter("0",4-oficina.length)+oficina;lv_total=0;for(ii=0;ii<=7;ii++){lv_digit=Numero.substring(ii,ii+1);lv_peso=Pesos.substring((7-ii),(7-ii)+1);if(lv_peso==0){lv_peso=10;}lv_total=lv_total+(lv_peso*lv_digit);}lv_total=lv_total%11;lv_total=11-lv_total;if(lv_total==11){lv_total=0;}else{if(lv_total==10){lv_total=1;}}return(lv_total==dg.substring(0,1));}}function check_cuenta_ccc(cuenta,dg){var Pesos;var lv_total;var lv_digit;var lv_peso;var ii;Pesos="6379058421";cuenta=repiteCaracter("0",10-cuenta.length)+cuenta;lv_total=0;for(ii=0;ii<=9;ii++){lv_digit=cuenta.substring(ii,ii+1);lv_peso=Pesos.substring(9-ii,(9-ii)+1);if(lv_peso==0){lv_peso=10;}lv_total=lv_total+(lv_peso*lv_digit);}lv_total=lv_total%11;lv_total=11-lv_total;if(lv_total==11){lv_total=0;}else{if(lv_total==10){lv_total=1;}}return(lv_total==dg.substring(1,2));}function check_cuenta_entidad(oficina,cuenta){var sumatorio;var cadena_check;var Arraypesos;var contador;var digito;sumatorio=0;Arraypesos=new Array(47,29,13,7,41,31,23,17,19,7,11,13);cadena_check=repiteCaracter("0",4-oficina.length)+oficina+repiteCaracter("0",10-cuenta.length)+cuenta;for(contador=0;contador<Arraypesos.length;contador++){var elem=cadena_check.substring(contador,contador+1);sumatorio=sumatorio+parseInt(elem,10)*Arraypesos[contador];}digito=sumatorio%100;return(digito==parseInt(cuenta.substring(8,10),10));}function validaCIFs(num,prefix){for(var i=0;i<num;i++){var E2_CIF=document.getElementById(prefix+"_CIF_"+i);if(trim(E2_CIF.value)!=""){var cif=""+E2_CIF.value;cif=trim(cif.toUpperCase());if(!validarCIF(cif)){E2_CIF.className="error";E2_CIF.focus();E2_CIF.select();return false;}else{E2_CIF.className="text";}}}return true;}function validaMail(str){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(str);}function validaInputMail(id){var mail=document.getElementById(id);if(""!=trim(mail.value)){if(!validaMail(mail.value)){alert(txtMailIncorrecto);mail.className="error";mail.focus();mail.select();return false;}}mail.className="text";return true;}function validaInputMails(id){var mail=document.getElementById(id);var mails=mail.value;var arrayMail=mails.split(",");for(var i=0;i<arrayMail.length;i++){if(""!=trim(arrayMail[i])){if(!validaMail(trim(arrayMail[i]))){alert(txtMailIncorrecto+': "'+arrayMail[i]+'"');mail.className="error";mail.focus();mail.select();return false;}}}mail.className="text";return true;}function eligeIdioma(idioma,urls,link){var vReturnValue=window.showModalDialog("/GesSTRForm/web/pantallas/utils/triaIdioma.jsp?Idioma="+idioma,"","dialogHeight:200px;dialogWidth:300px;scroll:no;unadorned:yes;status:no;help:no;");if(null==vReturnValue){window.event.returnValue=false;return;}link.href=urls[vReturnValue];window.event.returnValue=true;return;}function repiteCaracter(caracter,veces){var cadena="";for(var i=1;i<=veces;i++){cadena=cadena+caracter;}return(cadena);}function validaInputIntegerDesdeHasta(desde,hasta){var ok=validaInteger(desde);if(!ok){alert(txtIntIncorrecto);return false;}ok=validaInteger(hasta);if(!ok){alert(txtIntIncorrecto);return false;}ok=validaInputIntegerBefore(desde,hasta);if(!ok){alert(txtIntAnterior);return false;}return true;}function validaInteger(id){var txt=document.getElementById(id);var ok=/^[0-9]*$/.test(txt.value);if(!ok){txt.className="error";txt.focus();txt.select();return false;}txt.className="text";return true;}function validaInputIntegerBefore(id1,id2){var txt1=document.getElementById(id1);var txt2=document.getElementById(id2);if(""==trim(txt1.value)){txt1.className="text";txt2.className="text";return true;}if(""==trim(txt2.value)){txt1.className="text";txt2.className="text";return true;}if(trim(txt1.value)!=trim(txt2.value)){var a1=parseInt(txt1.value,10);var a2=parseInt(txt2.value,10);var ok=a1<=a2;if(!ok){txt1.className="text";txt2.className="error";txt2.focus();txt2.select();return false;}}txt1.className="text";txt2.className="text";return true;}function checkdateNoMessage(value){var validformat=/^\d{1,2}-\d{1,2}-\d{4}$/;if(!validformat.test(value)){return false;}else{var monthfield=value.split("-")[1];var dayfield=value.split("-")[0];var yearfield=value.split("-")[2];var dayobj=new Date(yearfield,monthfield-1,dayfield);if((dayobj.getMonth()+1!=monthfield)||(dayobj.getDate()!=dayfield)||(dayobj.getFullYear()!=yearfield)){return false;}}return true;}function checkdate(id){var input=document.getElementById(id);input.className="text";var validformat=/^\d{1,2}-\d{1,2}-\d{4}$/;if(!validformat.test(input.value)){input.className="error";input.focus();input.select();alert(txtDataIncorrecta);return false;}else{var monthfield=input.value.split("-")[1];var dayfield=input.value.split("-")[0];var yearfield=input.value.split("-")[2];var dayobj=new Date(yearfield,monthfield-1,dayfield);if((dayobj.getMonth()+1!=monthfield)||(dayobj.getDate()!=dayfield)||(dayobj.getFullYear()!=yearfield)){input.className="error";input.focus();input.select();alert(txtDataIncorrecta);return false;}}return true;}function checkdateNoFuture(id){if(checkdate(id)){var input=document.getElementById(id);var monthfield=input.value.split("-")[1];var dayfield=input.value.split("-")[0];var yearfield=input.value.split("-")[2];var dayobj=new Date(yearfield,monthfield-1,dayfield);var past=dayobj.getTime();var now=new Date().getTime();if(now<=past){input.className="error";input.focus();input.select();alert(txtDataNoFuture);return false;}return true;}else{return false;}}function checkdateFuture(id){if(checkdate(id)){var input=document.getElementById(id);var monthfield=input.value.split("-")[1];var dayfield=input.value.split("-")[0];var yearfield=input.value.split("-")[2];var dayobj=new Date(yearfield,monthfield-1,dayfield);var future=dayobj.getTime();var now=new Date().getTime();if(future<=now){input.className="error";input.focus();input.select();alert(txtDataFuture);return false;}return true;}else{return false;}}function validaInputDateDesdeHasta(desde,hasta){var ok=validaInputDateDDMMYY(desde);if(!ok){alert(txtDataIncorrecta);return ok;}ok=validaInputDateDDMMYY(hasta);if(!ok){alert(txtDataIncorrecta);return ok;}ok=validaInputDateBeforeDDMMYY(desde,hasta);if(!ok){alert(txtDataAnterior);return ok;}return ok;}function validaInputDateDDMMYY(id){var txt=document.getElementById(id);if(""!=trim(txt.value)){var ok=TF7.validators.date(txt.value);if(!ok){txt.className="error";txt.focus();txt.select();return false;}}txt.className="text";return true;}function arrayFromDateStringDDMMYY(str){var t=str.split(TF7.conf.dateSplitterRegexp);var v=[];v[0]=t[2];v[1]=TF7.conf.dateFormat=="dmy"?t[1]:t[0];v[2]=TF7.conf.dateFormat=="dmy"?t[0]:t[1];return v;}function validaInputDateBeforeDDMMYY(id1,id2){var txt1=document.getElementById(id1);var txt2=document.getElementById(id2);if(""==trim(txt1.value)){txt1.className="text";txt2.className="text";return true;}if(""==trim(txt2.value)){txt1.className="text";txt2.className="text";return true;}if(trim(txt1.value)!=trim(txt2.value)){var a1=arrayFromDateStringDDMMYY(txt1.value);var a2=arrayFromDateStringDDMMYY(txt2.value);var ok=TF7.validators.dateBefore(a1,a2);if(!ok){txt1.className="text";txt2.className="error";txt2.focus();txt2.select();return false;}}txt1.className="text";txt2.className="text";return true;}function abrirVentana(url){window.open(url);}function scorePassword(passwd){var intScore=0;var strVerdict="débil";if(passwd.length<5){intScore=(intScore+3);}else{if(passwd.length>4&&passwd.length<8){intScore=(intScore+6);}else{if(passwd.length>7&&passwd.length<16){intScore=(intScore+12);}else{if(passwd.length>15){intScore=(intScore+18);}}}}if(passwd.match(/[a-z]/)){intScore=(intScore+1);}if(passwd.match(/[A-Z]/)){intScore=(intScore+5);}if(passwd.match(/\d+/)){intScore=(intScore+5);}if(passwd.match(/(.*[0-9].*[0-9].*[0-9])/)){intScore=(intScore+5);}if(passwd.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)){intScore=(intScore+5);}if(passwd.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)){intScore=(intScore+5);}if(passwd.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)){intScore=(intScore+2);}if(passwd.match(/([a-zA-Z])/)&&passwd.match(/([0-9])/)){intScore=(intScore+2);}if(passwd.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)){intScore=(intScore+2);}if(intScore<16){return 0;}else{if(intScore>15&&intScore<25){return 1;}else{if(intScore>24&&intScore<35){return 2;}else{if(intScore>34&&intScore<45){return 3;}else{return 4;}}}}}function difDias(dia1,mes1,any1,dia2,mes2,any2){var fecha1=new Date(any1,mes1-1,dia1);var fecha2=new Date(any2,mes2-1,dia2);var restamili=fecha2.getTime()-fecha1.getTime();var difdias=restamili/(1000*60*60*24);return(difdias);}function no_todos(chk,id_IND,id_FORM,pre_id){var todos=document.getElementById(id_IND);if(!chk.checked){todos.checked=false;}else{var todos_checked=true;var frm=document.getElementById(id_FORM);for(var i=0;i<frm.elements.length;i++){var ele=frm.elements[i];if(null!=ele.name&&ele.name.indexOf(pre_id)!=-1&&ele.name!=id_IND){if(!ele.checked){todos_checked=false;}}}todos.checked=todos_checked;}}function todos(chk,id_FORM,pre_id){var los_otros=false;if(chk.checked){los_otros=true;}var frm=document.getElementById(id_FORM);for(var i=0;i<frm.elements.length;i++){var ele=frm.elements[i];if(null!=ele.name&&ele.name.indexOf(pre_id)!=-1){ele.checked=los_otros;}}}function checkTodos(id_FORM,pre_id,bool){var frm=document.getElementById(id_FORM);for(var i=0;i<frm.elements.length;i++){var ele=frm.elements[i];if(null!=ele.name&&ele.name.indexOf(pre_id)!=-1){ele.checked=bool;}}}function controlaComma(){if(event.keyCode==46){event.keyCode=44;}if(event.keyCode==44&&this.value==""){event.returnValue=false;}}function menorIgualQueZero(str){var num=parseInt(str,10);return num<=0;}function vacio(str){return trim(str)=="";}function aplicaValidaciones(listaIds,funcion,txtMensaje){for(var i=0;i<listaIds.length;i++){var input=document.getElementById(listaIds[i]);if(null!=input){if(funcion(input.value)){input.className="error";var span=document.getElementById("SPAN_"+listaIds[i]);var nombreCampo="";if(null!=span){nombreCampo='"'+span.innerHTML+'"';}var msg=txtMensaje;alert(msg);input.focus();return false;}else{input.className="text";}}}return true;}function pad(str,ch,len){if(null==str){str="";}var ps="";for(var i=0;i<Math.abs(len);i++){ps+=ch;}if(len>0){var concat=(str+ps);var max=Math.max(str.length,len);return concat.substring(0,max);}else{var concat=(ps+str);var ini=concat.length+len;var fin=concat.length;return concat.substring(ini,fin);}}function lPad(str,len,chara){if(null==str){str="";}var lpad=str.toString();for(i=str.length+1;i<=len;i++){lpad=chara+lpad;}return lpad;}function preCookDate(txtDate){var dateSplitterRegexp=/[\\.|\-|\/|\s+]/;var ret=[null,null,null];var el=txtDate;if(el.value){ret=trim(el.value).split(dateSplitterRegexp);if(ret.length==1){ret=[];ret[0]=el.value.substr(0,2);ret[1]=el.value.substr(2,2);ret[2]=el.value.substr(4)||"";}if(ret.length==3){switch(ret[2].length){case 2:var anio=Number(ret[2]);if(anio>50){ret[2]=1900+anio;}else{ret[2]=2000+anio;}break;case 4:break;default:ret[2]="";}}else{return ret;}ret[0]=pad(trim(ret[0]),"0",-2);ret[1]=pad(trim(ret[1]),"0",-2);}return ret.reverse();}function refactorDate(txtDate){var dateSplitter="-";var value=preCookDate(txtDate);value=value.reverse().join(dateSplitter);if(checkdateNoMessage(value)){txtDate.value=value;}}function validarTelefono(telefono){var incorrecto=telefono.length>0&&telefono.length<9;return !incorrecto;}function valida_longitud_campo(field,maxlong,message){var tecla,in_value,out_value;if(field.value.length>maxlong){in_value=field.value;out_value=in_value.substring(0,maxlong-1);field.value=out_value;alert(message);return false;}return true;}function maskNum(mascara,field){var mask="";var num="";var ok=false;mask=mascara;num=field.value;if(num.length==mask.length){ok=true;}else{if(num.length>mask.length){ok=false;}else{if(num.length<mask.length){mask=mask.substring(0,(mask.length-num.length));field.value=mask+num;ok=true;}}}return ok;}function mensajes(){var arr=document.getElementsByName("mensaje");var mensaje="";for(var i=0;i<arr.length;i++){mensaje+=arr[i].innerHTML;if(i!=arr.length-1){mensaje+="\n";}}if(mensaje!=""){alert(mensaje);}}function comparaFechas(fecha1,fecha2,separador){fecha1=trim(fecha1);fecha2=trim(fecha2);var f1=fecha1.split(separador);var f2=fecha2.split(separador);var year1=f1[2];var month1=f1[1];var day1=f1[0];var year2=f2[2];var month2=f2[1];var day2=f2[0];if(day1.substring(0,1)=="0"){day1=day1.substring(1,2);}if(month1.substring(0,1)=="0"){month1=month1.substring(1,2);}if(day2.substring(0,1)=="0"){day2=day2.substring(1,2);}if(month2.substring(0,1)=="0"){month2=month2.substring(1,2);}var d1=new Date(parseInt(year1),parseInt(month1)-1,parseInt(day1));var d2=new Date(parseInt(year2),parseInt(month2)-1,parseInt(day2));if(d1.getFullYear()<d2.getFullYear()){return -1;}else{if(d1.getFullYear()==d2.getFullYear()){if(d1.getMonth()<d2.getMonth()){return -1;}else{if(d1.getMonth()==d2.getMonth()){if(d1.getDate()<d2.getDate()){return -1;}else{if(d1.getDate()==d2.getDate()){return 0;}}}}}}return 1;}function replaceAll(text,busca,reemplaza){while(text.toString().indexOf(busca)!=-1){text=text.toString().replace(busca,reemplaza);}return text;}function FormatNumberBy3(num,decpoint,sep){if(arguments.length==2){sep=".";}if(arguments.length==1){sep=".";decpoint=",";}num=num.toString();a=num.split(decpoint);x=a[0];y=a[1];z="";if(typeof(x)!="undefined"){for(i=x.length-1;i>=0;i--){z+=x.charAt(i);}z=z.replace(/(\d{3})/g,"$1"+sep);if(z.slice(-sep.length)==sep){z=z.slice(0,-sep.length);}x="";for(i=z.length-1;i>=0;i--){x+=z.charAt(i);}if(typeof(y)!="undefined"&&y.length>0){x+=decpoint+y;}}x=x.replace("-.","-");x=x.replace("-,","-");return x;}
function rtrim(s){return s.replace(/\s*$/,"");}function ltrim(s){return s.replace(/^\s*/,"");}function trim(s){return rtrim(ltrim(s));}function redondear(num,posiciones){return(Math.round(num*posiciones)/posiciones);}function convFloat(theNum){if(theNum.indexOf(",")!=-1){theNum=theNum.replace(",",".");}return(theNum);}function isFloat(theNum){var numDec=2;var theLen=theNum.length;var dotPos=theNum.indexOf(",");var thePos=theLen-(dotPos+1);if(theNum.indexOf(".")!=-1){}else{if(theNum.indexOf(",")!=-1){theNum=theNum.replace(",",".");}}var isNum=(isNaN(theNum))?false:true;if(dotPos!=-1){var isAt=(thePos<=numDec)?true:false;}else{var isAt=true;}var isOne=(theNum.indexOf(",",dotPos+1)==-1)?true:false;if((isNum)&&(isAt)&&(isOne)){return true;}else{return false;}}function isDate(dia,mes,any,idioma,__sgEtiqueta){var __Catala=0;var __Castella=0;if(mes<1||mes>12){switch(idioma){case __Catala:alert(__sgEtiqueta+": El mes ha d'estar entre els valors 1 i 12.");break;case __Castella:alert(__sgEtiqueta+": El mes debe de estar entre los valores 1 y 12");break;}return 2;}if(dia<1||dia>31){switch(idioma){case __Catala:alert(__sgEtiqueta+": El dia ha d'estar entre els valors 1 i 31.");break;case __Castella:alert(__sgEtiqueta+": El dia debe de estar entre los valores 1 y 31");break;}return 1;}if((mes==4||mes==6||mes==9||mes==11)&&dia==31){switch(idioma){case __Catala:alert(__sgEtiqueta+": Aquest mes no té 31 dies.");break;case __Castella:alert(__sgEtiqueta+": Este mes no tiene 31 dias");break;}return 2;}if(mes==2){var isleap=(any%4==0&&(any%100!=0||any%400==0));if(dia>29||(dia==29&&!isleap)){switch(idioma){case __Catala:alert(__sgEtiqueta+": Aquest any no es de traspas.");break;case __Castella:alert(__sgEtiqueta+": Este año no es bisiesto.");break;}return 1;}}return 0;}function pasarSiguienteMasCampos(objeto,maxsize,saltos){if(objeto.value.length==maxsize&&((event.keyCode>=48&&event.keyCode<=57)||(event.keyCode>=96&&event.keyCode<=105))){var i=0;while(i<=document.forms[0].length&&document.forms[0][i]!=objeto){i++;}document.forms[0][i+saltos].focus();}}function pasarSiguiente(objeto,maxsize){pasarSiguienteMasCampos(objeto,maxsize,1);}function pasarSiguienteSimple(objeto){if(objeto.value.length==objeto.getAttribute("maxlength")&&((event.keyCode>=48&&event.keyCode<=57)||(event.keyCode>=96&&event.keyCode<=105))){var frm=objeto.form;var elems=frm.elements;for(i=0;i<elems.length;i++){var elem=elems[i];if(elem==objeto){var nextElem=elems[i+1];if(nextElem.focus){nextElem.focus();}}}}}function compruebaCuenta(entidad,oficina,dg,cuenta){var correcto=entidad.length==4&&oficina.length==4&&dg.length==2&&cuenta.length==10;correcto=correcto&&!isNaN(entidad)&&!isNaN(oficina)&&!isNaN(dg)&&!isNaN(cuenta);correcto=correcto&&check_oficina_ccc(entidad,oficina,dg);correcto=correcto&&check_cuenta_ccc(cuenta,dg);if(entidad=="2100"){correcto=correcto&&check_cuenta_entidad(oficina,cuenta);}return(correcto);}function check_oficina_ccc(entidad,oficina,dg){var lv_total;var lv_peso;var ii;var lv_digit;var Pesos;var Numero;Pesos="6379058421";if(entidad.length==0||oficina.length==0){return(false);}else{Numero=repiteCaracter("0",4-entidad.length)+entidad+repiteCaracter("0",4-oficina.length)+oficina;lv_total=0;for(ii=0;ii<=7;ii++){lv_digit=Numero.substring(ii,ii+1);lv_peso=Pesos.substring((7-ii),(7-ii)+1);if(lv_peso==0){lv_peso=10;}lv_total=lv_total+(lv_peso*lv_digit);}lv_total=lv_total%11;lv_total=11-lv_total;if(lv_total==11){lv_total=0;}else{if(lv_total==10){lv_total=1;}}return(lv_total==dg.substring(0,1));}}function check_cuenta_ccc(cuenta,dg){var Pesos;var lv_total;var lv_digit;var lv_peso;var ii;Pesos="6379058421";cuenta=repiteCaracter("0",10-cuenta.length)+cuenta;lv_total=0;for(ii=0;ii<=9;ii++){lv_digit=cuenta.substring(ii,ii+1);lv_peso=Pesos.substring(9-ii,(9-ii)+1);if(lv_peso==0){lv_peso=10;}lv_total=lv_total+(lv_peso*lv_digit);}lv_total=lv_total%11;lv_total=11-lv_total;if(lv_total==11){lv_total=0;}else{if(lv_total==10){lv_total=1;}}return(lv_total==dg.substring(1,2));}function check_cuenta_entidad(oficina,cuenta){var sumatorio;var cadena_check;var Arraypesos;var contador;var digito;var correcto=oficina.length==4&&cuenta.length==10;correcto=correcto&&!isNaN(oficina)&&!isNaN(cuenta);if(correcto){sumatorio=0;Arraypesos=new Array(47,29,13,7,41,31,23,17,19,7,11,13);cadena_check=repiteCaracter("0",4-oficina.length)+oficina+repiteCaracter("0",10-cuenta.length)+cuenta;for(contador=0;contador<Arraypesos.length;contador++){var elem=cadena_check.substring(contador,contador+1);sumatorio=sumatorio+parseInt(elem,10)*Arraypesos[contador];}digito=sumatorio%100;}correcto=correcto&&digito==parseInt(cuenta.substring(8,10),10);return(correcto);}function compruebaEmail(correo){var pos=correo.indexOf("@");var incorrecto=(pos==-1||pos==0||pos==correo.length-1||(pos!=-1&&(correo.indexOf("@",pos+1)!=-1))||correo.indexOf(".")==-1);pos=correo.indexOf(" ");incorrecto=incorrecto||pos>=0;return(!incorrecto);}function repiteCaracter(caracter,veces){var cadena="";for(var i=1;i<=veces;i++){cadena=cadena+caracter;}return(cadena);}function difDias(dia1,mes1,any1,dia2,mes2,any2){var fecha1=new Date(any1,mes1-1,dia1);var fecha2=new Date(any2,mes2-1,dia2);var restamili=fecha2.getTime()-fecha1.getTime();return(restamili/(1000*60*60*24));}function abrirVentana(url){var alto=650;var ancho=900;if(document.all){var xMax=screen.width,yMax=screen.height;}else{if(document.layers){var xMax=window.outerWidth,yMax=window.outerHeight;}else{var xMax=640,yMax=480;}}var xOffset=(xMax-ancho)/2;var yOffset=((yMax-alto)/2);yOffset=30;w=window.open(url,"Index","width="+ancho+",height="+alto+",screenX="+xOffset+",screenY="+yOffset+",top="+yOffset+",left="+xOffset+",scrollbars=yes,resizable=yes");w.focus();}function formatFloat(numeroDec){var snumeroDec=numeroDec+"";var anumeroDec=snumeroDec.split(".");var entera=anumeroDec[0];var fentera="";while(entera.length>0){var tresp;if(entera.length>3){tresp=entera.substring(entera.length-3,entera.length);entera=entera.substring(0,entera.length-3);}else{tresp=entera;entera="";}if(entera.length>0){fentera="."+tresp+fentera;}else{fentera=tresp+fentera;}}if(anumeroDec.length==1){return(fentera);}else{return(fentera+","+anumeroDec[1].substring(0,2));}}function validarNif(nif){var LetrasYnumeros="ABCDEFGJUVHNWPQRS0123456789TRWAGMYFPDXBNJZSQVHLCKE";var Letras10="ABCDEFGHIJ";var Pares=0;var Impares=0;nif=trim(nif);if(nif.substring(0,1)=="T"){return(true);}if(nif.length!=9){if(nif.length==10){if(nif.substring(0,1)=="X"&&nif.substring(1,2)=="0"){nif=nif.substring(0,1)+nif.substring(2,10);}else{return(false);}}else{return(false);}}if(isNaN(nif.substring(1,8))){return(false);}Juridicas=false;Nacional=false;Extranjero=false;Estatal=false;Locales=false;Fantiguo=false;Fisicas=false;FisicasDni=false;FisicasSinDni=false;FisicasNoRes=false;FisicasExtran=false;if(LetrasYnumeros.substring(0,11).indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(17,27).indexOf(nif.substring(8,9))>=0){Nacional=true;Juridicas=true;}if(LetrasYnumeros.substring(0,13).indexOf(nif.substring(0,1))>=0&&Letras10.substring(0,10).indexOf(nif.substring(8,9))>=0){Extranjero=true;Juridicas=true;}if(LetrasYnumeros.substring(16,17).indexOf(nif.substring(0,1))>=0&&Letras10.substring(0,10).indexOf(nif.substring(8,9))>=0){Estatal=true;Juridicas=true;}if(LetrasYnumeros.substring(13,16).indexOf(nif.substring(0,1))>=0&&Letras10.substring(0,10).indexOf(nif.substring(8,9))>=0){Locales=true;Juridicas=true;}if(LetrasYnumeros.substring(17,27).indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(27,50).indexOf(nif.substring(8,9))>=0){FisicasDni=true;Fisicas=true;}if(LetrasYnumeros.substring(48,49).indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(27,50).indexOf(nif.substring(8,9))>=0){FisicasSinDni=true;Fisicas=true;}if(LetrasYnumeros.substring(46,47).indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(27,50).indexOf(nif.substring(8,9))>=0){FisicasNoRes=true;Fisicas=true;}if(LetrasYnumeros.substring(37,38).indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(27,50).indexOf(nif.substring(8,9))>=0){FisicasExtran=true;Fisicas=true;}if(LetrasYnumeros.substring(32,33).indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(27,50).indexOf(nif.substring(8,9))>=0){FisicasExtran=true;Fisicas=true;}if("YZ".indexOf(nif.substring(0,1))>=0&&LetrasYnumeros.substring(27,50).indexOf(nif.substring(8,9))>=0){if(nif.substring(0,1)=="Y"){if(nif.substring(1,5)=="2100"){nif="0"+nif.substring(1,nif.length);}else{nif="1"+nif.substring(1,nif.length);}}else{nif="2"+nif.substring(1,nif.length);}FisicasExtran=true;Fisicas=true;if(isNaN(trim(nif.substring(0,8)))){return(false);}var producto=parseInt(nif.substring(0,8),10)%23;var digito=producto+28;if(LetrasYnumeros.substring(digito-1,digito)==nif.substring(8,9)){return(true);}return(false);}if(Juridicas){for(var i=2;i<=8;i=i+2){Digito=parseInt(nif.substring(i-1,i),10);Digito=Digito*2;if(Digito>=10){Dig1=parseInt(Digito/10,10);Dig2=Digito%10;Digito=Dig1+Dig2;}Impares=Impares+Digito;}for(var i=3;i<=8;i=i+2){Digito=parseInt(nif.substring(i-1,i),10);Pares=Pares+Digito;}producto=Pares+Impares;Resto=producto%10;Digito=10-Resto;if(Nacional){if(Digito==10){Digito=0;}}else{if(Digito==0){Digito=10;}}if(Nacional){if(Digito==parseInt(trim(nif.substring(8,9)),10)){return(true);}else{return(false);}}if(Letras10.substring(Digito-1,Digito)==nif.substring(8,9)){return(true);}return(false);}if(Fisicas){if(FisicasDni){if(isNaN(trim(nif.substring(0,8)))){return(false);}producto=parseInt(trim(nif.substring(0,8)),10)%23;}else{if(isNaN(trim(nif.substring(1,8)))){return(false);}producto=parseInt(trim(nif.substring(1,8)),10)%23;}Digito=producto+28;if(LetrasYnumeros.substring(Digito-1,Digito)==nif.substring(8,9)){return(true);}return(false);}return(false);}function validarNif2(nif){var temp=nif.toUpperCase();var cadenadni="TRWAGMYFPDXBNJZSQVHLCKE";if(temp!==""){if((!/^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$/.test(temp)&&!/^[T]{1}[A-Z0-9]{8}$/.test(temp))&&!/^[0-9]{8}[A-Z]{1}$/.test(temp)){return false;}if(/^[0-9]{8}[A-Z]{1}$/.test(temp)){posicion=nif.substring(8,0)%23;letra=cadenadni.charAt(posicion);var letradni=temp.charAt(8);if(letra==letradni){return true;}else{return false;}}suma=parseInt(nif.charAt(2))+parseInt(nif.charAt(4))+parseInt(nif.charAt(6));for(i=1;i<8;i+=2){temp1=2*parseInt(nif.charAt(i));temp1+="";temp1=temp1.substring(0,1);temp2=2*parseInt(nif.charAt(i));temp2+="";temp2=temp2.substring(1,2);if(temp2==""){temp2="0";}suma+=(parseInt(temp1)+parseInt(temp2));}suma+="";n=10-parseInt(suma.substring(suma.length-1,suma.length));if(/^[KLM]{1}/.test(temp)){if(a[8]==String.fromCharCode(64+n)){return true;}else{return false;}}if(/^[ABCDEFGHJNPQRSUVW]{1}/.test(temp)){temp=n+"";if(nif.charAt(8)==String.fromCharCode(64+n)||nif.charAt(8)==parseInt(temp.substring(temp.length-1,temp.length))){return true;}else{return false;}}if(/^[T]{1}/.test(temp)){if(/[A-Z0-9]{8}$/.test(temp)){return true;}else{return false;}}if(/^[XYZ]{1}/.test(temp)){pos=str_replace(["X","Y","Z"],["0","1","2"],temp).substring(0,8)%23;if(nif.charAt(8)==cadenadni.substring(pos,pos+1)){return true;}else{return false;}}}return 0;}function str_replace(search,replace,subject){var f=search,r=replace,s=subject;var ra=r instanceof Array,sa=s instanceof Array,f=[].concat(f),r=[].concat(r),i=(s=[].concat(s)).length;while(j=0,i--){if(s[i]){while(s[i]=s[i].split(f[j]).join(ra?r[j]||"":r[0]),++j in f){}}}return sa?s:s[0];}function oNumero(numero){this.valor=numero||0;this.dec=-1;this.formato=numFormat;this.ponValor=ponValor;function ponValor(cad){if(cad=="-"||cad=="+"){return;}if(cad.length==0){return;}if(cad.indexOf(".")>=0){this.valor=parseFloat(cad);}else{this.valor=parseInt(cad);}}function numFormat(dec,miles){var num=this.valor,signo=3,expr;var cad=""+this.valor;var ceros="",pos,pdec,i;for(i=0;i<dec;i++){ceros+="0";}pos=cad.indexOf(".");if(pos<0){cad=cad+"."+ceros;}else{pdec=cad.length-pos-1;if(pdec<=dec){for(i=0;i<(dec-pdec);i++){cad+="0";}}else{num=num*Math.pow(10,dec);num=Math.round(num);num=num/Math.pow(10,dec);cad=new String(num);}}pos=cad.indexOf(".");if(pos<0){pos=cad.lentgh;}if(cad.substr(0,1)=="-"||cad.substr(0,1)=="+"){signo=4;}if(miles&&pos>signo){do{expr=/([+-]?\d)(\d{3}[\.\,]\d*)/;cad.match(expr);cad=cad.replace(expr,RegExp.$1+","+RegExp.$2);}while(cad.indexOf(",")>signo);}if(dec<0){cad=cad.replace(/\./,"");}cad=cad.replace(".","_");cad=cad.replace(",",".");cad=cad.replace("_",",");return cad;}}function rellenaCeros(campo,cuantos){if(trim(campo.value).length>0){campo.value=repiteCaracter("0",cuantos-campo.value.length)+campo.value;}}function abrirVentana(url){window.open(url);}function validaTelefono(telefono){var correcto=true;correcto=!isNaN(telefono);if(trim(telefono).length>0){correcto=correcto&&trim(telefono).length>=9;correcto=correcto&&(telefono.substring(0,1)=="9"||telefono.substring(0,1)=="6");}return(correcto);}var __Catala=0;var __Castella=1;function fechaCorrecta(dateStr,formato,idiomamisatges){return(fechaCorrectaMsg(dateStr,formato,true,idiomamisatges));}function fechaCorrectaMsg(dateStr,formato,verMensaje,idiomamisatges){var datePat=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/;switch(formato){case"dd/mm/aaaa":datePat=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/;break;case"dd/mm/aa":datePat=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{1,2})$/;break;case"aa/mm/dd":datePat=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{1,2})$/;break;case"0000":datePat=/^(\d{4})$/;break;case"ddmmaa":datePat=/^(\d{1,2})(\d{1,2})(\d{1,2})$/;break;case"dd-mm-aaaa":datePat=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/;break;}var matchArray=dateStr.match(datePat);if(matchArray==null){if(verMensaje==true){switch(idiomamisatges){case __Catala:alert(__sgEtiqueta+": Ha d'introduïr un valor amb el format "+formato);break;case __Castella:alert(__sgEtiqueta+": Debe de introducir un valor con el formato "+formato);break;}}return false;}else{return(comprobarDiaMesAnyo(matchArray,idiomamisatges,verMensaje));}}function comprobarDiaMesAnyo(matchArray,idiomamisatges,verMensaje){var day=matchArray[1];var month=matchArray[3];var year=matchArray[5];if(month<1||month>12){if(verMensaje){switch(idiomamisatges){case __Catala:alert(__sgEtiqueta+": El mes ha d'estar entre els valors 1 i 12.");break;case __Castella:alert(__sgEtiqueta+": El mes debe de estar entre los valores 1 y 12");break;}}return false;}if(day<1||day>31){if(verMensaje){switch(idiomamisatges){case __Catala:alert(__sgEtiqueta+": El Dia ha d'estar entre els valors 1 i 31.");break;case __Castella:alert(__sgEtiqueta+": El Dia debe de estar entre los valores 1 y 31");break;}}return false;}if((month==4||month==6||month==9||month==11)&&day==31){if(verMensaje){switch(idiomamisatges){case __Catala:alert(__sgEtiqueta+": Aquest mes no té 31 dies.");break;case __Castella:alert(__sgEtiqueta+": Este mes no tiene 31 dias");break;}}return false;}if(month==2){var isleap=(year%4==0&&(year%100!=0||year%400==0));if(day>29||(day==29&&!isleap)){if(verMensaje){switch(idiomamisatges){case __Catala:alert(__sgEtiqueta+": Aquest any no es de traspas.");break;case __Castella:alert(__sgEtiqueta+": Este año no es bisiesto.");break;}}return false;}}return true;}function compruebaEmail(correo){if(trim(correo).length>0){var pos=correo.indexOf("@");var incorrecto=(pos==-1||pos==0||pos==correo.length-1||(pos!=-1&&(correo.indexOf("@",pos+1)!=-1))||correo.indexOf(".")==-1);pos=correo.indexOf(" ");incorrecto=incorrecto||pos>=0;return(!incorrecto);}else{return(true);}}
function ismaxlength(obj,mlength){if(obj.getAttribute&&obj.value.length>mlength){obj.value=obj.value.substring(0,mlength);}}function mensajes(){var arr=document.getElementsByName("mensaje");var mensaje="";for(var i=0;i<arr.length;i++){mensaje+=arr[i].innerHTML;if(i!=arr.length-1){mensaje+="\n";}}if(mensaje!=""){alert(mensaje);}}function formatNumber_onblur(number){number.value=toNumber(formatNumber(number.value));}function replaceNumber(number){number.value=formatNumber(number.value);}function formatNumber(num){if(num){num=num.replace(/\./g,"");num=num.replace(/\,/g,".");}return num;}function formatNumber_load(number){var num=number.value;if(num){number.value=toNumber(num);}}function returnPres(object,event){var car=String.fromCharCode(event.keyCode);var regx=/[0-9\.,]/;var result=regx.test(car);if(event.keyCode==46){event.keyCode=44;}return result;}function toNumber(num){num+="";var splitStr=num.split(".");var splitLeft=splitStr[0];var splitRight=splitStr.length>1?","+splitStr[1]:"";var regx=/(\d+)(\d{3})/;while(regx.test(splitLeft)){splitLeft=splitLeft.replace(regx,"$1"+"."+"$2");}return splitLeft+splitRight;}function redondeo2decimales(numero){var original=parseFloat(numero);var result=Math.round(original*100)/100;return result;}function spanSwitch(){$("div.filtres > span.switch").click(function(){$("fieldset",this.parentNode).toggle();$(this).toggleClass("visibles");var visible=$.className.has(this,"visibles");if(visible){var form=$(this.parentNode).find("form")[0];var elements=form.elements;if(null!=elements){for(var i=0;i<elements.length;i++){switch(elements[i].tagName.toLowerCase()){case"input":case"select":case"textarea":try{elements[i].focus();}catch(err){}return;default:}}}}});}